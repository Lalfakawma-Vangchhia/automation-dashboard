{"ast":null,"code":"var _jsxFileName = \"F:\\\\Projects\\\\Automation Dashboard\\\\frontend\\\\src\\\\components\\\\FacebookPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport apiClient from '../services/apiClient';\nimport './SocialMediaPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FacebookPage() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user,\n    isAuthenticated: authIsAuthenticated,\n    logout\n  } = useAuth();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState('');\n\n  // Facebook OAuth states\n  const [pageAccessToken, setPageAccessToken] = useState('');\n  const [selectedPage, setSelectedPage] = useState(null);\n  const [availablePages, setAvailablePages] = useState([]); // Store all fetched pages\n  const [facebookConnected, setFacebookConnected] = useState(false);\n\n  // Auto-reply toggle state\n  const [autoReplyEnabled, setAutoReplyEnabled] = useState(false);\n\n  // Tab selection state\n  const [activeTab, setActiveTab] = useState('auto');\n\n  // Auto post states\n  const [autoFormData, setAutoFormData] = useState({\n    prompt: '',\n    mediaType: 'none',\n    // 'none', 'photo', 'video'\n    mediaFile: null,\n    generatedContent: '',\n    isGenerating: false\n  });\n\n  // Manual post states\n  const [manualFormData, setManualFormData] = useState({\n    message: '',\n    mediaType: 'none',\n    mediaFile: null\n  });\n\n  // fetchPages function\n  const fetchPages = async accessToken => {\n    console.debug('[fetchPages] Called with accessToken:', accessToken);\n    if (!accessToken) {\n      setConnectionStatus('❌ No Facebook access token found. Please try reconnecting.');\n      setIsConnecting(false);\n      setFacebookConnected(false);\n      return {\n        mappedPages: [],\n        userInfo: null\n      };\n    }\n    try {\n      // Get user info\n      const userInfo = await new Promise((resolve, reject) => {\n        window.FB.api('/me', {\n          access_token: accessToken,\n          fields: 'id,name,email'\n        }, response => {\n          console.debug('[FB.api] /me response:', response);\n          if (response.error) reject(new Error(response.error.message));else resolve(response);\n        });\n      });\n      // Get user's pages with extended permissions\n      const pagesResponse = await new Promise((resolve, reject) => {\n        window.FB.api('/me/accounts', {\n          access_token: accessToken,\n          fields: 'id,name,category,access_token,picture,fan_count,tasks'\n        }, response => {\n          // Debug log for troubleshooting\n          console.debug('[FB.api] /me/accounts response:', response);\n          if (response.error) reject(new Error(response.error.message));else resolve(response);\n        });\n      });\n      const pages = pagesResponse.data || [];\n      const mappedPages = pages.map(page => {\n        var _page$picture, _page$picture$data;\n        return {\n          id: page.id,\n          name: page.name,\n          category: page.category || 'Page',\n          access_token: page.access_token,\n          profilePicture: ((_page$picture = page.picture) === null || _page$picture === void 0 ? void 0 : (_page$picture$data = _page$picture.data) === null || _page$picture$data === void 0 ? void 0 : _page$picture$data.url) || '',\n          canPost: true,\n          canComment: true,\n          followerCount: page.fan_count || 0\n        };\n      });\n      setAvailablePages(mappedPages);\n      // Page selection logic\n      if (mappedPages.length === 1) {\n        setSelectedPage(mappedPages[0]);\n        setPageAccessToken(mappedPages[0].access_token);\n        setConnectionStatus(`✅ Connected successfully! 1 page found.`);\n      } else if (mappedPages.length > 1) {\n        setSelectedPage(null); // Prompt user to select a page\n        setPageAccessToken('');\n        setConnectionStatus(`✅ Connected successfully! ${mappedPages.length} pages found. Please select a page below.`);\n      } else {\n        // Fallback to user profile if no pages available\n        setSelectedPage({\n          id: userInfo.id,\n          name: userInfo.name,\n          access_token: accessToken,\n          category: 'Personal Profile',\n          profilePicture: '',\n          email: userInfo.email || '',\n          isUserProfile: true,\n          canPost: true,\n          canComment: true,\n          followerCount: 0\n        });\n        setPageAccessToken(accessToken);\n        setConnectionStatus('✅ Connected as personal profile (no pages found).');\n      }\n      setFacebookConnected(true);\n      setIsConnecting(false);\n      return {\n        mappedPages,\n        userInfo\n      };\n    } catch (error) {\n      console.error('Facebook API error:', error);\n      setConnectionStatus('❌ Failed to get Facebook data: ' + (error.message || 'Unknown error'));\n      setIsConnecting(false);\n      setFacebookConnected(false);\n      return {\n        mappedPages: [],\n        userInfo: null\n      };\n    }\n  };\n\n  // connectToBackend function\n  const connectToBackend = async (accessToken, userInfo, mappedPages) => {\n    try {\n      console.debug('[connectToBackend] Connecting to backend with:', {\n        userInfo: userInfo === null || userInfo === void 0 ? void 0 : userInfo.id,\n        pagesCount: mappedPages.length,\n        pagesData: mappedPages\n      });\n      const response = await apiClient.connectFacebook(accessToken, userInfo === null || userInfo === void 0 ? void 0 : userInfo.id, mappedPages);\n      console.debug('[connectToBackend] Backend response:', response);\n      setConnectionStatus('✅ Successfully connected to backend!');\n      return response;\n    } catch (error) {\n      console.error('Backend connection error:', error);\n      setConnectionStatus('❌ Backend connection failed: ' + (error.message || 'Unknown error'));\n      throw error;\n    }\n  };\n\n  // Icon Components\n  const MessageIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n  const PageIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M13 2L3 14h9l-1 8 10-12h-9l1-8z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n  const ImageIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"3\",\n      y: \"3\",\n      width: \"18\",\n      height: \"18\",\n      rx: \"2\",\n      ry: \"2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"8.5\",\n      cy: \"8.5\",\n      r: \"1.5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n      points: \"21,15 16,10 5,21\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n  const AutoReplyIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n  const LockIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"3\",\n      y: \"11\",\n      width: \"18\",\n      height: \"11\",\n      rx: \"2\",\n      ry: \"2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"12\",\n      cy: \"16\",\n      r: \"1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M7 11V7a5 5 0 0 1 10 0v4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n  const RocketIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M12 15l-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n  const LogoutIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n      points: \"16,17 21,12 16,7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n      x1: \"21\",\n      y1: \"12\",\n      x2: \"9\",\n      y2: \"12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n  const AutoIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 5\n  }, this);\n  const ManualIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 5\n  }, this);\n  const VideoIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: [/*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"23 7 16 12 23 17 23 7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"1\",\n      y: \"5\",\n      width: \"15\",\n      height: \"14\",\n      rx: \"2\",\n      ry: \"2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n  const SparkleIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.582a.5.5 0 0 1 0 .962L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0L9.937 15.5Z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n\n  // Clean up any existing Facebook SDK instances\n  const cleanupFacebookSDK = () => {\n    const existingScript = document.getElementById('facebook-jssdk');\n    if (existingScript) {\n      existingScript.remove();\n    }\n    if (window.FB) {\n      delete window.FB;\n    }\n    if (window.fbAsyncInit) {\n      delete window.fbAsyncInit;\n    }\n  };\n\n  // Load Facebook SDK function\n  const loadFacebookSDK = () => {\n    return new Promise((resolve, reject) => {\n      cleanupFacebookSDK();\n      window.fbAsyncInit = function () {\n        try {\n          const appId = process.env.REACT_APP_FACEBOOK_APP_ID || '1526961221410200';\n          window.FB.init({\n            appId: appId,\n            cookie: true,\n            xfbml: true,\n            version: 'v19.0'\n          });\n\n          // Remove the automatic login status check since we'll handle it explicitly\n          resolve();\n        } catch (error) {\n          console.error('Facebook SDK initialization error:', error);\n          reject(error);\n        }\n      };\n      const script = document.createElement('script');\n      script.id = 'facebook-jssdk';\n      script.src = 'https://connect.facebook.net/en_US/sdk.js';\n      script.async = true;\n      script.defer = true;\n      script.crossOrigin = 'anonymous';\n      script.onerror = () => {\n        reject(new Error('Failed to load Facebook SDK script'));\n      };\n      document.body.appendChild(script);\n    });\n  };\n  const handleAutoInputChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    setAutoFormData(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n  const handleManualInputChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    setManualFormData(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n  const handleMediaTypeChange = (type, formType) => {\n    if (formType === 'auto') {\n      setAutoFormData(prev => ({\n        ...prev,\n        mediaType: type,\n        mediaFile: null\n      }));\n    } else {\n      setManualFormData(prev => ({\n        ...prev,\n        mediaType: type,\n        mediaFile: null\n      }));\n    }\n  };\n\n  // Generate content using Groq API\n  const generatePostContent = async () => {\n    if (!autoFormData.prompt.trim()) {\n      setConnectionStatus('❌ Please enter a prompt for AI generation');\n      return;\n    }\n    setAutoFormData(prev => ({\n      ...prev,\n      isGenerating: true\n    }));\n    setConnectionStatus('🤖 Generating content with AI...');\n    try {\n      // Call your backend API to use Groq\n      const response = await apiClient.generateContent(autoFormData.prompt);\n      setAutoFormData(prev => ({\n        ...prev,\n        generatedContent: response.content,\n        isGenerating: false\n      }));\n      setConnectionStatus('✅ Content generated successfully!');\n    } catch (error) {\n      console.error('Content generation error:', error);\n      setConnectionStatus('❌ Failed to generate content: ' + (error.message || 'Unknown error'));\n      setAutoFormData(prev => ({\n        ...prev,\n        isGenerating: false\n      }));\n    }\n  };\n\n  // UPDATED: Replace Make.com auto-reply webhook with backend API\n  const handleAutoReplyToggle = async () => {\n    const newState = !autoReplyEnabled;\n    setAutoReplyEnabled(newState);\n    try {\n      setConnectionStatus('🔄 Updating auto-reply setting...');\n      await apiClient.toggleAutoReply((selectedPage === null || selectedPage === void 0 ? void 0 : selectedPage.id) || 'user_profile', newState, 'Thank you for your comment! We\\'ll get back to you soon.');\n      setConnectionStatus(`${newState ? '✅' : '❌'} Auto-reply ${newState ? 'enabled' : 'disabled'}`);\n    } catch (error) {\n      console.error('Auto-reply toggle error:', error);\n      setConnectionStatus('❌ Failed to update auto-reply setting');\n      setAutoReplyEnabled(!newState); // Revert on error\n    }\n  };\n  const loginWithFacebook = async () => {\n    // Check HTTPS requirement first\n    if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\n      setConnectionStatus('❌ Facebook login requires HTTPS. Please use https://localhost:3001 or deploy with HTTPS');\n      return;\n    }\n\n    // Check if user is still authenticated with our backend\n    try {\n      await apiClient.getCurrentUser();\n    } catch (error) {\n      setConnectionStatus('❌ Your session has expired. Please log out and log back in to connect Facebook.');\n      setTimeout(() => {\n        logout();\n        navigate('/');\n      }, 3000);\n      return;\n    }\n    setIsConnecting(true);\n    setConnectionStatus('📦 Loading Facebook SDK...');\n    try {\n      await loadFacebookSDK();\n      if (!window.FB || typeof window.FB.login !== 'function') {\n        setConnectionStatus('❌ Facebook SDK failed to load. Please refresh the page and try again.');\n        setIsConnecting(false);\n        return;\n      }\n      setConnectionStatus('🔐 Connecting to Facebook...');\n      window.FB.login(async response => {\n        console.debug('[FB.login] Response:', response);\n        if (response.authResponse && response.authResponse.accessToken) {\n          console.debug('[FB.login] accessToken:', response.authResponse.accessToken);\n          setConnectionStatus('✅ Facebook login successful! Fetching pages...');\n          try {\n            const {\n              mappedPages,\n              userInfo\n            } = await fetchPages(response.authResponse.accessToken);\n            if (mappedPages.length > 0) {\n              setConnectionStatus('🔄 Connecting to backend...');\n              await connectToBackend(response.authResponse.accessToken, userInfo, mappedPages);\n            } else {\n              setConnectionStatus('⚠️ No pages found. You may need to grant page permissions or create a Facebook page first.');\n            }\n          } catch (error) {\n            console.error('[FB.login] Error in page fetching or backend connection:', error);\n            setConnectionStatus('❌ Error during setup: ' + (error.message || 'Unknown error'));\n            setIsConnecting(false);\n            setFacebookConnected(false);\n          }\n        } else {\n          if (response.status === 'not_authorized') {\n            setConnectionStatus('❌ Please authorize the app to continue and select at least one page.');\n          } else {\n            setConnectionStatus('❌ Facebook login cancelled or failed');\n          }\n          setIsConnecting(false);\n          console.warn('[FB.login] No accessToken found in response:', response);\n        }\n      }, {\n        scope: ['public_profile', 'pages_show_list', 'pages_read_engagement', 'pages_manage_posts', 'pages_manage_engagement', 'pages_read_user_content', 'pages_manage_metadata'].join(','),\n        enable_profile_selector: true,\n        return_scopes: true,\n        auth_type: 'rerequest' // force re-prompt for permissions\n      });\n    } catch (error) {\n      console.error('Facebook login error:', error);\n      setConnectionStatus('❌ Facebook login failed: ' + error.message);\n    }\n  };\n\n  // Always render something for the Facebook page\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"facebook-page-container\",\n    style: {\n      padding: 32,\n      maxWidth: 700,\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Facebook Page Automation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }, this), connectionStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16,\n        color: connectionStatus.startsWith('✅') ? 'green' : connectionStatus.startsWith('❌') ? 'red' : '#333'\n      },\n      children: connectionStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 9\n    }, this), !facebookConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loginWithFacebook,\n        disabled: isConnecting,\n        style: {\n          padding: '10px 24px',\n          fontSize: 18\n        },\n        children: isConnecting ? 'Connecting...' : 'Connect Facebook'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 10,\n          color: '#666'\n        },\n        children: \"Connect your Facebook account to manage posts, auto-replies, and more!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 9\n    }, this), facebookConnected && availablePages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 24,\n        color: '#b91c1c',\n        background: '#fff7f7',\n        padding: 16,\n        borderRadius: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"No Facebook Pages found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 55\n        }, this), \"This may be because:\", /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            margin: '8px 0 0 20px',\n            color: '#b91c1c'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"You did not select any pages during Facebook login.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"You denied required permissions.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Your Facebook account does not have any managed pages.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loginWithFacebook,\n        style: {\n          padding: '8px 18px',\n          background: '#1877f2',\n          color: '#fff',\n          border: 'none',\n          borderRadius: 4,\n          fontWeight: 600\n        },\n        children: \"Re-request Facebook Permissions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 9\n    }, this), facebookConnected && availablePages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-select-section\",\n      style: {\n        marginTop: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fb-page-select\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Select a Facebook Page:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"fb-page-select\",\n        value: selectedPage ? selectedPage.id : '',\n        onChange: e => {\n          const page = availablePages.find(p => p.id === e.target.value);\n          if (page) {\n            setSelectedPage(page);\n            setPageAccessToken(page.access_token || '');\n            setConnectionStatus(`✅ Page \"${page.name}\" selected successfully! You can now manage posts and auto-replies.`);\n            console.log('[Page Selection] Selected page:', page);\n          } else {\n            setSelectedPage(null);\n            setPageAccessToken('');\n            setConnectionStatus('⚠️ Please select a page to continue.');\n          }\n        },\n        style: {\n          marginLeft: 8,\n          padding: '8px 12px',\n          borderRadius: 4,\n          border: '1px solid #ddd'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Select Page --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this), availablePages.map(page => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: page.id,\n          children: [page.name, \" (\", page.category, \") \", page.followerCount > 0 ? `- ${page.followerCount} followers` : '']\n        }, page.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 11\n      }, this), selectedPage && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12,\n          padding: 12,\n          background: '#f0f9ff',\n          borderRadius: 8,\n          border: '1px solid #0ea5e9'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: 8\n          },\n          children: [selectedPage.profilePicture && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: selectedPage.profilePicture,\n            alt: selectedPage.name,\n            width: 40,\n            height: 40,\n            style: {\n              borderRadius: '50%',\n              marginRight: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 600,\n                fontSize: 16\n              },\n              children: selectedPage.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#666',\n                fontSize: 14\n              },\n              children: selectedPage.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 14,\n            color: '#0369a1'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u2705 Can post: \", selectedPage.canPost ? 'Yes' : 'No']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u2705 Can manage comments: \", selectedPage.canComment ? 'Yes' : 'No']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 17\n          }, this), selectedPage.followerCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\uD83D\\uDC65 Followers: \", selectedPage.followerCount.toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 13\n      }, this), !selectedPage && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#b91c1c',\n          marginTop: 8,\n          padding: 8,\n          background: '#fef2f2',\n          borderRadius: 4\n        },\n        children: \"\\u26A0\\uFE0F Please select a page from the dropdown above to enable posting and auto-reply features.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n        style: {\n          marginTop: 12,\n          fontSize: 13\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n          children: [\"Debug: Show available pages data (\", availablePages.length, \" found)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          style: {\n            background: '#f3f3f3',\n            padding: 8,\n            borderRadius: 4,\n            maxHeight: 200,\n            overflow: 'auto'\n          },\n          children: JSON.stringify(availablePages, null, 2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 9\n    }, this), facebookConnected && selectedPage && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 32\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 24,\n          padding: 16,\n          background: '#f8fafc',\n          borderRadius: 8,\n          border: '1px solid #e2e8f0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 12px 0',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(AutoReplyIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this), \"Auto-Reply to Comments\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 12\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 8,\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: autoReplyEnabled,\n              onChange: handleAutoReplyToggle,\n              style: {\n                width: 18,\n                height: 18\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 17\n            }, this), autoReplyEnabled ? 'Auto-reply is enabled' : 'Enable auto-reply to comments']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '8px 0 0 0',\n            fontSize: 14,\n            color: '#64748b'\n          },\n          children: \"When enabled, the bot will automatically reply to new comments on your page posts.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 24\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            borderBottom: '2px solid #e2e8f0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('auto'),\n            style: {\n              padding: '12px 24px',\n              border: 'none',\n              background: activeTab === 'auto' ? '#3b82f6' : 'transparent',\n              color: activeTab === 'auto' ? 'white' : '#64748b',\n              borderRadius: '8px 8px 0 0',\n              fontWeight: 600,\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(AutoIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 17\n            }, this), \"AI Auto Post\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('manual'),\n            style: {\n              padding: '12px 24px',\n              border: 'none',\n              background: activeTab === 'manual' ? '#3b82f6' : 'transparent',\n              color: activeTab === 'manual' ? 'white' : '#64748b',\n              borderRadius: '8px 8px 0 0',\n              fontWeight: 600,\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(ManualIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 17\n            }, this), \"Manual Post\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 11\n      }, this), activeTab === 'auto' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: 16,\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(SparkleIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 17\n          }, this), \"AI-Generated Post\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#64748b',\n            marginBottom: 16\n          },\n          children: \"Describe what you want to post about, and AI will generate engaging content for you.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: 8,\n              fontWeight: 600\n            },\n            children: \"Content Prompt:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"prompt\",\n            value: autoFormData.prompt,\n            onChange: handleAutoInputChange,\n            placeholder: \"e.g., 'Create a motivational post about entrepreneurship' or 'Write about our latest product launch'\",\n            style: {\n              width: '100%',\n              minHeight: 100,\n              padding: 12,\n              border: '1px solid #d1d5db',\n              borderRadius: 8,\n              fontSize: 14,\n              resize: 'vertical'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: generatePostContent,\n          disabled: autoFormData.isGenerating || !autoFormData.prompt.trim(),\n          style: {\n            padding: '12px 24px',\n            background: autoFormData.isGenerating ? '#94a3b8' : '#10b981',\n            color: 'white',\n            border: 'none',\n            borderRadius: 8,\n            fontWeight: 600,\n            cursor: autoFormData.isGenerating ? 'not-allowed' : 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8,\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(SparkleIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 17\n          }, this), autoFormData.isGenerating ? 'Generating...' : 'Generate Content']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 15\n        }, this), autoFormData.generatedContent && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: 8,\n              fontWeight: 600\n            },\n            children: \"Generated Content:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: autoFormData.generatedContent,\n            onChange: e => setAutoFormData(prev => ({\n              ...prev,\n              generatedContent: e.target.value\n            })),\n            style: {\n              width: '100%',\n              minHeight: 120,\n              padding: 12,\n              border: '1px solid #d1d5db',\n              borderRadius: 8,\n              fontSize: 14,\n              resize: 'vertical'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: 12,\n              color: '#64748b',\n              marginTop: 4\n            },\n            children: \"You can edit the generated content before posting.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 13\n      }, this), activeTab === 'manual' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: 16,\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(ManualIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 17\n          }, this), \"Manual Post\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#64748b',\n            marginBottom: 16\n          },\n          children: \"Create and publish your own custom post content.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: 8,\n              fontWeight: 600\n            },\n            children: \"Post Content:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"message\",\n            value: manualFormData.message,\n            onChange: handleManualInputChange,\n            placeholder: \"Write your post content here...\",\n            style: {\n              width: '100%',\n              minHeight: 120,\n              padding: 12,\n              border: '1px solid #d1d5db',\n              borderRadius: 8,\n              fontSize: 14,\n              resize: 'vertical'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 8,\n            fontWeight: 600\n          },\n          children: \"Media Type:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 734,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleMediaTypeChange('none', activeTab),\n            style: {\n              padding: '8px 16px',\n              border: '1px solid #d1d5db',\n              background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'none' ? '#3b82f6' : 'white',\n              color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'none' ? 'white' : '#374151',\n              borderRadius: 6,\n              cursor: 'pointer',\n              fontWeight: 500\n            },\n            children: \"Text Only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleMediaTypeChange('photo', activeTab),\n            style: {\n              padding: '8px 16px',\n              border: '1px solid #d1d5db',\n              background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'photo' ? '#3b82f6' : 'white',\n              color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'photo' ? 'white' : '#374151',\n              borderRadius: 6,\n              cursor: 'pointer',\n              fontWeight: 500,\n              display: 'flex',\n              alignItems: 'center',\n              gap: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(ImageIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 767,\n              columnNumber: 17\n            }, this), \"Photo\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleMediaTypeChange('video', activeTab),\n            style: {\n              padding: '8px 16px',\n              border: '1px solid #d1d5db',\n              background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'video' ? '#3b82f6' : 'white',\n              color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'video' ? 'white' : '#374151',\n              borderRadius: 6,\n              cursor: 'pointer',\n              fontWeight: 500,\n              display: 'flex',\n              alignItems: 'center',\n              gap: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(VideoIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 17\n            }, this), \"Video\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 733,\n        columnNumber: 11\n      }, this), (activeTab === 'auto' && autoFormData.mediaType !== 'none' || activeTab === 'manual' && manualFormData.mediaType !== 'none') && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 8,\n            fontWeight: 600\n          },\n          children: [\"Upload \", activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"mediaFile\",\n          accept: activeTab === 'auto' ? autoFormData.mediaType === 'photo' ? 'image/*' : 'video/*' : manualFormData.mediaType === 'photo' ? 'image/*' : 'video/*',\n          onChange: activeTab === 'auto' ? handleAutoInputChange : handleManualInputChange,\n          style: {\n            width: '100%',\n            padding: 8,\n            border: '1px solid #d1d5db',\n            borderRadius: 6\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 798,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 794,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 24\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            padding: '12px 32px',\n            background: '#1877f2',\n            color: 'white',\n            border: 'none',\n            borderRadius: 8,\n            fontWeight: 600,\n            cursor: 'pointer',\n            fontSize: 16,\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          onClick: () => {\n            // Add post functionality here\n            setConnectionStatus('🚀 Post functionality coming soon!');\n          },\n          children: [/*#__PURE__*/_jsxDEV(RocketIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 15\n          }, this), \"Publish Post\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 817,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 445,\n    columnNumber: 5\n  }, this);\n}\n_s(FacebookPage, \"A05lkg4E8PjaOH4wz4MLzNaZ91k=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = FacebookPage;\nexport default FacebookPage;\nvar _c;\n$RefreshReg$(_c, \"FacebookPage\");","map":{"version":3,"names":["React","useState","useNavigate","useAuth","apiClient","jsxDEV","_jsxDEV","FacebookPage","_s","navigate","user","isAuthenticated","authIsAuthenticated","logout","isConnecting","setIsConnecting","connectionStatus","setConnectionStatus","pageAccessToken","setPageAccessToken","selectedPage","setSelectedPage","availablePages","setAvailablePages","facebookConnected","setFacebookConnected","autoReplyEnabled","setAutoReplyEnabled","activeTab","setActiveTab","autoFormData","setAutoFormData","prompt","mediaType","mediaFile","generatedContent","isGenerating","manualFormData","setManualFormData","message","fetchPages","accessToken","console","debug","mappedPages","userInfo","Promise","resolve","reject","window","FB","api","access_token","fields","response","error","Error","pagesResponse","pages","data","map","page","_page$picture","_page$picture$data","id","name","category","profilePicture","picture","url","canPost","canComment","followerCount","fan_count","length","email","isUserProfile","connectToBackend","pagesCount","pagesData","connectFacebook","MessageIcon","width","height","viewBox","fill","stroke","strokeWidth","children","d","fileName","_jsxFileName","lineNumber","columnNumber","PageIcon","ImageIcon","x","y","rx","ry","cx","cy","r","points","AutoReplyIcon","LockIcon","RocketIcon","LogoutIcon","x1","y1","x2","y2","AutoIcon","ManualIcon","VideoIcon","SparkleIcon","cleanupFacebookSDK","existingScript","document","getElementById","remove","fbAsyncInit","loadFacebookSDK","appId","process","env","REACT_APP_FACEBOOK_APP_ID","init","cookie","xfbml","version","script","createElement","src","async","defer","crossOrigin","onerror","body","appendChild","handleAutoInputChange","e","value","files","target","prev","handleManualInputChange","handleMediaTypeChange","type","formType","generatePostContent","trim","generateContent","content","handleAutoReplyToggle","newState","toggleAutoReply","loginWithFacebook","location","protocol","hostname","getCurrentUser","setTimeout","login","authResponse","status","warn","scope","join","enable_profile_selector","return_scopes","auth_type","className","style","padding","maxWidth","margin","marginBottom","color","startsWith","onClick","disabled","fontSize","marginTop","background","borderRadius","border","fontWeight","htmlFor","onChange","find","p","log","marginLeft","display","alignItems","alt","marginRight","toLocaleString","maxHeight","overflow","JSON","stringify","gap","cursor","checked","borderBottom","placeholder","minHeight","resize","accept","_c","$RefreshReg$"],"sources":["F:/Projects/Automation Dashboard/frontend/src/components/FacebookPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport apiClient from '../services/apiClient';\nimport './SocialMediaPage.css';\n\nfunction FacebookPage() {\n  const navigate = useNavigate();\n  const { user, isAuthenticated: authIsAuthenticated, logout } = useAuth();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState('');\n  \n  // Facebook OAuth states\n  const [pageAccessToken, setPageAccessToken] = useState('');\n  const [selectedPage, setSelectedPage] = useState(null);\nconst [availablePages, setAvailablePages] = useState([]); // Store all fetched pages\n  const [facebookConnected, setFacebookConnected] = useState(false);\n  \n  // Auto-reply toggle state\n  const [autoReplyEnabled, setAutoReplyEnabled] = useState(false);\n  \n  // Tab selection state\n  const [activeTab, setActiveTab] = useState('auto');\n  \n  // Auto post states\n  const [autoFormData, setAutoFormData] = useState({\n    prompt: '',\n    mediaType: 'none', // 'none', 'photo', 'video'\n    mediaFile: null,\n    generatedContent: '',\n    isGenerating: false\n  });\n  \n  // Manual post states\n  const [manualFormData, setManualFormData] = useState({\n    message: '',\n    mediaType: 'none',\n    mediaFile: null\n  });\n\n  // fetchPages function\n  const fetchPages = async (accessToken) => {\n    console.debug('[fetchPages] Called with accessToken:', accessToken);\n    if (!accessToken) {\n      setConnectionStatus('❌ No Facebook access token found. Please try reconnecting.');\n      setIsConnecting(false);\n      setFacebookConnected(false);\n      return { mappedPages: [], userInfo: null };\n    }\n    try {\n      // Get user info\n      const userInfo = await new Promise((resolve, reject) => {\n        window.FB.api('/me', { access_token: accessToken, fields: 'id,name,email' }, (response) => {\n          console.debug('[FB.api] /me response:', response);\n          if (response.error) reject(new Error(response.error.message));\n          else resolve(response);\n        });\n      });\n      // Get user's pages with extended permissions\n      const pagesResponse = await new Promise((resolve, reject) => {\n        window.FB.api('/me/accounts', {\n          access_token: accessToken,\n          fields: 'id,name,category,access_token,picture,fan_count,tasks'\n        }, (response) => {\n          // Debug log for troubleshooting\n          console.debug('[FB.api] /me/accounts response:', response);\n          if (response.error) reject(new Error(response.error.message));\n          else resolve(response);\n        });\n      });\n      const pages = pagesResponse.data || [];\n      const mappedPages = pages.map(page => ({\n        id: page.id,\n        name: page.name,\n        category: page.category || 'Page',\n        access_token: page.access_token,\n        profilePicture: page.picture?.data?.url || '',\n        canPost: true,\n        canComment: true,\n        followerCount: page.fan_count || 0\n      }));\n      setAvailablePages(mappedPages);\n      // Page selection logic\n      if (mappedPages.length === 1) {\n        setSelectedPage(mappedPages[0]);\n        setPageAccessToken(mappedPages[0].access_token);\n        setConnectionStatus(`✅ Connected successfully! 1 page found.`);\n      } else if (mappedPages.length > 1) {\n        setSelectedPage(null); // Prompt user to select a page\n        setPageAccessToken('');\n        setConnectionStatus(`✅ Connected successfully! ${mappedPages.length} pages found. Please select a page below.`);\n      } else {\n        // Fallback to user profile if no pages available\n        setSelectedPage({\n          id: userInfo.id,\n          name: userInfo.name,\n          access_token: accessToken,\n          category: 'Personal Profile',\n          profilePicture: '',\n          email: userInfo.email || '',\n          isUserProfile: true,\n          canPost: true,\n          canComment: true,\n          followerCount: 0\n        });\n        setPageAccessToken(accessToken);\n        setConnectionStatus('✅ Connected as personal profile (no pages found).');\n      }\n      setFacebookConnected(true);\n      setIsConnecting(false);\n      return { mappedPages, userInfo };\n    } catch (error) {\n      console.error('Facebook API error:', error);\n      setConnectionStatus('❌ Failed to get Facebook data: ' + (error.message || 'Unknown error'));\n      setIsConnecting(false);\n      setFacebookConnected(false);\n      return { mappedPages: [], userInfo: null };\n    }\n  };\n\n  // connectToBackend function\n  const connectToBackend = async (accessToken, userInfo, mappedPages) => {\n    try {\n      console.debug('[connectToBackend] Connecting to backend with:', {\n        userInfo: userInfo?.id,\n        pagesCount: mappedPages.length,\n        pagesData: mappedPages\n      });\n      \n      const response = await apiClient.connectFacebook(\n        accessToken,\n        userInfo?.id,\n        mappedPages\n      );\n      \n      console.debug('[connectToBackend] Backend response:', response);\n      setConnectionStatus('✅ Successfully connected to backend!');\n      return response;\n    } catch (error) {\n      console.error('Backend connection error:', error);\n      setConnectionStatus('❌ Backend connection failed: ' + (error.message || 'Unknown error'));\n      throw error;\n    }\n  };\n\n  // Icon Components\n  const MessageIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"></path>\n    </svg>\n  );\n\n  const PageIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M13 2L3 14h9l-1 8 10-12h-9l1-8z\"></path>\n    </svg>\n  );\n\n  const ImageIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n      <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"></circle>\n      <polyline points=\"21,15 16,10 5,21\"></polyline>\n    </svg>\n  );\n\n  const AutoReplyIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"></path>\n    </svg>\n  );\n\n  const LockIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n      <circle cx=\"12\" cy=\"16\" r=\"1\"></circle>\n      <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n    </svg>\n  );\n\n  const RocketIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z\"></path>\n      <path d=\"M12 15l-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z\"></path>\n      <path d=\"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0\"></path>\n      <path d=\"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5\"></path>\n    </svg>\n  );\n\n  const LogoutIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"></path>\n      <polyline points=\"16,17 21,12 16,7\"></polyline>\n      <line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"></line>\n    </svg>\n  );\n\n  const AutoIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\"/>\n    </svg>\n  );\n\n  const ManualIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z\"/>\n    </svg>\n  );\n\n  const VideoIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\n      <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\n    </svg>\n  );\n\n  const SparkleIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.582a.5.5 0 0 1 0 .962L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0L9.937 15.5Z\"/>\n    </svg>\n  );\n\n  // Clean up any existing Facebook SDK instances\n  const cleanupFacebookSDK = () => {\n    const existingScript = document.getElementById('facebook-jssdk');\n    if (existingScript) {\n      existingScript.remove();\n    }\n    \n    if (window.FB) {\n      delete window.FB;\n    }\n    \n    if (window.fbAsyncInit) {\n      delete window.fbAsyncInit;\n    }\n  };\n\n  // Load Facebook SDK function\n  const loadFacebookSDK = () => {\n    return new Promise((resolve, reject) => {\n      cleanupFacebookSDK();\n      \n      window.fbAsyncInit = function () {\n        try {\n          const appId = process.env.REACT_APP_FACEBOOK_APP_ID || '1526961221410200';\n          \n          window.FB.init({\n            appId: appId,\n            cookie: true,\n            xfbml: true,\n            version: 'v19.0'\n          });\n\n          // Remove the automatic login status check since we'll handle it explicitly\n          resolve();\n        } catch (error) {\n          console.error('Facebook SDK initialization error:', error);\n          reject(error);\n        }\n      };\n\n      const script = document.createElement('script');\n      script.id = 'facebook-jssdk';\n      script.src = 'https://connect.facebook.net/en_US/sdk.js';\n      script.async = true;\n      script.defer = true;\n      script.crossOrigin = 'anonymous';\n\n      script.onerror = () => {\n        reject(new Error('Failed to load Facebook SDK script'));\n      };\n\n      document.body.appendChild(script);\n    });\n  };\n\n  const handleAutoInputChange = (e) => {\n    const { name, value, files } = e.target;\n    setAutoFormData(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n\n  const handleManualInputChange = (e) => {\n    const { name, value, files } = e.target;\n    setManualFormData(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n\n  const handleMediaTypeChange = (type, formType) => {\n    if (formType === 'auto') {\n      setAutoFormData(prev => ({\n        ...prev,\n        mediaType: type,\n        mediaFile: null\n      }));\n    } else {\n      setManualFormData(prev => ({\n        ...prev,\n        mediaType: type,\n        mediaFile: null\n      }));\n    }\n  };\n\n  // Generate content using Groq API\n  const generatePostContent = async () => {\n    if (!autoFormData.prompt.trim()) {\n      setConnectionStatus('❌ Please enter a prompt for AI generation');\n      return;\n    }\n\n    setAutoFormData(prev => ({ ...prev, isGenerating: true }));\n    setConnectionStatus('🤖 Generating content with AI...');\n\n    try {\n      // Call your backend API to use Groq\n      const response = await apiClient.generateContent(autoFormData.prompt);\n      \n      setAutoFormData(prev => ({\n        ...prev,\n        generatedContent: response.content,\n        isGenerating: false\n      }));\n      \n      setConnectionStatus('✅ Content generated successfully!');\n    } catch (error) {\n      console.error('Content generation error:', error);\n      setConnectionStatus('❌ Failed to generate content: ' + (error.message || 'Unknown error'));\n      setAutoFormData(prev => ({ ...prev, isGenerating: false }));\n    }\n  };\n\n  // UPDATED: Replace Make.com auto-reply webhook with backend API\n  const handleAutoReplyToggle = async () => {\n    const newState = !autoReplyEnabled;\n    setAutoReplyEnabled(newState);\n    \n    try {\n      setConnectionStatus('🔄 Updating auto-reply setting...');\n      \n      await apiClient.toggleAutoReply(\n        selectedPage?.id || 'user_profile',\n        newState,\n        'Thank you for your comment! We\\'ll get back to you soon.'\n      );\n\n      setConnectionStatus(`${newState ? '✅' : '❌'} Auto-reply ${newState ? 'enabled' : 'disabled'}`);\n    } catch (error) {\n      console.error('Auto-reply toggle error:', error);\n      setConnectionStatus('❌ Failed to update auto-reply setting');\n      setAutoReplyEnabled(!newState); // Revert on error\n    }\n  };\n\n  const loginWithFacebook = async () => {\n    // Check HTTPS requirement first\n    if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\n      setConnectionStatus('❌ Facebook login requires HTTPS. Please use https://localhost:3001 or deploy with HTTPS');\n      return;\n    }\n\n    // Check if user is still authenticated with our backend\n    try {\n      await apiClient.getCurrentUser();\n    } catch (error) {\n      setConnectionStatus('❌ Your session has expired. Please log out and log back in to connect Facebook.');\n      setTimeout(() => {\n        logout();\n        navigate('/');\n      }, 3000);\n      return;\n    }\n\n    setIsConnecting(true);\n    setConnectionStatus('📦 Loading Facebook SDK...');\n\n    try {\n      await loadFacebookSDK();\n\n      if (!window.FB || typeof window.FB.login !== 'function') {\n        setConnectionStatus('❌ Facebook SDK failed to load. Please refresh the page and try again.');\n        setIsConnecting(false);\n        return;\n      }\n\n      setConnectionStatus('🔐 Connecting to Facebook...');\n      \n      window.FB.login(async (response) => {\n        console.debug('[FB.login] Response:', response);\n        if (response.authResponse && response.authResponse.accessToken) {\n          console.debug('[FB.login] accessToken:', response.authResponse.accessToken);\n          setConnectionStatus('✅ Facebook login successful! Fetching pages...');\n          \n          try {\n            const { mappedPages, userInfo } = await fetchPages(response.authResponse.accessToken);\n            \n            if (mappedPages.length > 0) {\n              setConnectionStatus('🔄 Connecting to backend...');\n              await connectToBackend(response.authResponse.accessToken, userInfo, mappedPages);\n            } else {\n              setConnectionStatus('⚠️ No pages found. You may need to grant page permissions or create a Facebook page first.');\n            }\n          } catch (error) {\n            console.error('[FB.login] Error in page fetching or backend connection:', error);\n            setConnectionStatus('❌ Error during setup: ' + (error.message || 'Unknown error'));\n            setIsConnecting(false);\n            setFacebookConnected(false);\n          }\n        } else {\n          if (response.status === 'not_authorized') {\n            setConnectionStatus('❌ Please authorize the app to continue and select at least one page.');\n          } else {\n            setConnectionStatus('❌ Facebook login cancelled or failed');\n          }\n          setIsConnecting(false);\n          console.warn('[FB.login] No accessToken found in response:', response);\n        }\n      }, {\n        scope: [\n          'public_profile',\n          'pages_show_list',\n          'pages_read_engagement',\n          'pages_manage_posts',\n          'pages_manage_engagement',\n          'pages_read_user_content',\n          'pages_manage_metadata'\n        ].join(','),\n        enable_profile_selector: true,\n        return_scopes: true,\n        auth_type: 'rerequest', // force re-prompt for permissions\n      });\n    } catch (error) {\n      console.error('Facebook login error:', error);\n      setConnectionStatus('❌ Facebook login failed: ' + error.message);\n    }\n  };\n\n  // Always render something for the Facebook page\n  return (\n    <div className=\"facebook-page-container\" style={{ padding: 32, maxWidth: 700, margin: '0 auto' }}>\n      <h2>Facebook Page Automation</h2>\n      {/* Show connection status */}\n      {connectionStatus && (\n        <div style={{ marginBottom: 16, color: connectionStatus.startsWith('✅') ? 'green' : connectionStatus.startsWith('❌') ? 'red' : '#333' }}>\n          {connectionStatus}\n        </div>\n      )}\n      {/* Show Connect button if not connected */}\n      {!facebookConnected && (\n        <div style={{ marginBottom: 24 }}>\n          <button onClick={loginWithFacebook} disabled={isConnecting} style={{ padding: '10px 24px', fontSize: 18 }}>\n            {isConnecting ? 'Connecting...' : 'Connect Facebook'}\n          </button>\n          <div style={{ marginTop: 10, color: '#666' }}>\n            Connect your Facebook account to manage posts, auto-replies, and more!\n          </div>\n        </div>\n      )}\n      {/* Show re-request permissions button if no pages found after connection */}\n      {facebookConnected && availablePages.length === 0 && (\n        <div style={{ marginTop: 24, color: '#b91c1c', background: '#fff7f7', padding: 16, borderRadius: 8 }}>\n          <div style={{ marginBottom: 8 }}>\n            <strong>No Facebook Pages found.</strong> <br />\n            This may be because:\n            <ul style={{ margin: '8px 0 0 20px', color: '#b91c1c' }}>\n              <li>You did not select any pages during Facebook login.</li>\n              <li>You denied required permissions.</li>\n              <li>Your Facebook account does not have any managed pages.</li>\n            </ul>\n          </div>\n          <button\n            onClick={loginWithFacebook}\n            style={{ padding: '8px 18px', background: '#1877f2', color: '#fff', border: 'none', borderRadius: 4, fontWeight: 600 }}\n          >\n            Re-request Facebook Permissions\n          </button>\n        </div>\n      )}\n      {/* Page selection UI if any pages exist */}\n      {facebookConnected && availablePages.length > 0 && (\n        <div className=\"page-select-section\" style={{ marginTop: 24 }}>\n          <label htmlFor=\"fb-page-select\"><strong>Select a Facebook Page:</strong></label>\n          <select\n            id=\"fb-page-select\"\n            value={selectedPage ? selectedPage.id : ''}\n            onChange={e => {\n              const page = availablePages.find(p => p.id === e.target.value);\n              if (page) {\n                setSelectedPage(page);\n                setPageAccessToken(page.access_token || '');\n                setConnectionStatus(`✅ Page \"${page.name}\" selected successfully! You can now manage posts and auto-replies.`);\n                console.log('[Page Selection] Selected page:', page);\n              } else {\n                setSelectedPage(null);\n                setPageAccessToken('');\n                setConnectionStatus('⚠️ Please select a page to continue.');\n              }\n            }}\n            style={{ marginLeft: 8, padding: '8px 12px', borderRadius: 4, border: '1px solid #ddd' }}\n          >\n            <option value=\"\">-- Select Page --</option>\n            {availablePages.map(page => (\n              <option key={page.id} value={page.id}>\n                {page.name} ({page.category}) {page.followerCount > 0 ? `- ${page.followerCount} followers` : ''}\n              </option>\n            ))}\n          </select>\n          {selectedPage && (\n            <div style={{ marginTop: 12, padding: 12, background: '#f0f9ff', borderRadius: 8, border: '1px solid #0ea5e9' }}>\n              <div style={{ display: 'flex', alignItems: 'center', marginBottom: 8 }}>\n                {selectedPage.profilePicture && (\n                  <img \n                    src={selectedPage.profilePicture} \n                    alt={selectedPage.name} \n                    width={40} \n                    height={40}\n                    style={{ borderRadius: '50%', marginRight: 12 }} \n                  />\n                )}\n                <div>\n                  <div style={{ fontWeight: 600, fontSize: 16 }}>{selectedPage.name}</div>\n                  <div style={{ color: '#666', fontSize: 14 }}>{selectedPage.category}</div>\n                </div>\n              </div>\n              <div style={{ fontSize: 14, color: '#0369a1' }}>\n                <div>✅ Can post: {selectedPage.canPost ? 'Yes' : 'No'}</div>\n                <div>✅ Can manage comments: {selectedPage.canComment ? 'Yes' : 'No'}</div>\n                {selectedPage.followerCount > 0 && (\n                  <div>👥 Followers: {selectedPage.followerCount.toLocaleString()}</div>\n                )}\n              </div>\n            </div>\n          )}\n          {/* Show warning if pages exist but no selection */}\n          {!selectedPage && (\n            <div style={{ color: '#b91c1c', marginTop: 8, padding: 8, background: '#fef2f2', borderRadius: 4 }}>\n              ⚠️ Please select a page from the dropdown above to enable posting and auto-reply features.\n            </div>\n          )}\n          {/* Debug: show availablePages raw data */}\n          <details style={{ marginTop: 12, fontSize: 13 }}>\n            <summary>Debug: Show available pages data ({availablePages.length} found)</summary>\n            <pre style={{ background: '#f3f3f3', padding: 8, borderRadius: 4, maxHeight: 200, overflow: 'auto' }}>{JSON.stringify(availablePages, null, 2)}</pre>\n          </details>\n        </div>\n      )}\n\n      {/* Main functionality - only show when a page is selected */}\n      {facebookConnected && selectedPage && (\n        <div style={{ marginTop: 32 }}>\n          {/* Auto-Reply Toggle */}\n          <div style={{ marginBottom: 24, padding: 16, background: '#f8fafc', borderRadius: 8, border: '1px solid #e2e8f0' }}>\n            <h3 style={{ margin: '0 0 12px 0', display: 'flex', alignItems: 'center', gap: 8 }}>\n              <AutoReplyIcon />\n              Auto-Reply to Comments\n            </h3>\n            <div style={{ display: 'flex', alignItems: 'center', gap: 12 }}>\n              <label style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n                <input\n                  type=\"checkbox\"\n                  checked={autoReplyEnabled}\n                  onChange={handleAutoReplyToggle}\n                  style={{ width: 18, height: 18 }}\n                />\n                {autoReplyEnabled ? 'Auto-reply is enabled' : 'Enable auto-reply to comments'}\n              </label>\n            </div>\n            <p style={{ margin: '8px 0 0 0', fontSize: 14, color: '#64748b' }}>\n              When enabled, the bot will automatically reply to new comments on your page posts.\n            </p>\n          </div>\n\n          {/* Tab Navigation */}\n          <div style={{ marginBottom: 24 }}>\n            <div style={{ display: 'flex', borderBottom: '2px solid #e2e8f0' }}>\n              <button\n                onClick={() => setActiveTab('auto')}\n                style={{\n                  padding: '12px 24px',\n                  border: 'none',\n                  background: activeTab === 'auto' ? '#3b82f6' : 'transparent',\n                  color: activeTab === 'auto' ? 'white' : '#64748b',\n                  borderRadius: '8px 8px 0 0',\n                  fontWeight: 600,\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 8\n                }}\n              >\n                <AutoIcon />\n                AI Auto Post\n              </button>\n              <button\n                onClick={() => setActiveTab('manual')}\n                style={{\n                  padding: '12px 24px',\n                  border: 'none',\n                  background: activeTab === 'manual' ? '#3b82f6' : 'transparent',\n                  color: activeTab === 'manual' ? 'white' : '#64748b',\n                  borderRadius: '8px 8px 0 0',\n                  fontWeight: 600,\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 8\n                }}\n              >\n                <ManualIcon />\n                Manual Post\n              </button>\n            </div>\n          </div>\n\n          {/* Content based on active tab */}\n          {activeTab === 'auto' && (\n            <div>\n              <h3 style={{ marginBottom: 16, display: 'flex', alignItems: 'center', gap: 8 }}>\n                <SparkleIcon />\n                AI-Generated Post\n              </h3>\n              <p style={{ color: '#64748b', marginBottom: 16 }}>\n                Describe what you want to post about, and AI will generate engaging content for you.\n              </p>\n              \n              <div style={{ marginBottom: 16 }}>\n                <label style={{ display: 'block', marginBottom: 8, fontWeight: 600 }}>\n                  Content Prompt:\n                </label>\n                <textarea\n                  name=\"prompt\"\n                  value={autoFormData.prompt}\n                  onChange={handleAutoInputChange}\n                  placeholder=\"e.g., 'Create a motivational post about entrepreneurship' or 'Write about our latest product launch'\"\n                  style={{\n                    width: '100%',\n                    minHeight: 100,\n                    padding: 12,\n                    border: '1px solid #d1d5db',\n                    borderRadius: 8,\n                    fontSize: 14,\n                    resize: 'vertical'\n                  }}\n                />\n              </div>\n\n              <button\n                onClick={generatePostContent}\n                disabled={autoFormData.isGenerating || !autoFormData.prompt.trim()}\n                style={{\n                  padding: '12px 24px',\n                  background: autoFormData.isGenerating ? '#94a3b8' : '#10b981',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: 8,\n                  fontWeight: 600,\n                  cursor: autoFormData.isGenerating ? 'not-allowed' : 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 8,\n                  marginBottom: 16\n                }}\n              >\n                <SparkleIcon />\n                {autoFormData.isGenerating ? 'Generating...' : 'Generate Content'}\n              </button>\n\n              {autoFormData.generatedContent && (\n                <div style={{ marginBottom: 16 }}>\n                  <label style={{ display: 'block', marginBottom: 8, fontWeight: 600 }}>\n                    Generated Content:\n                  </label>\n                  <textarea\n                    value={autoFormData.generatedContent}\n                    onChange={(e) => setAutoFormData(prev => ({ ...prev, generatedContent: e.target.value }))}\n                    style={{\n                      width: '100%',\n                      minHeight: 120,\n                      padding: 12,\n                      border: '1px solid #d1d5db',\n                      borderRadius: 8,\n                      fontSize: 14,\n                      resize: 'vertical'\n                    }}\n                  />\n                  <p style={{ fontSize: 12, color: '#64748b', marginTop: 4 }}>\n                    You can edit the generated content before posting.\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'manual' && (\n            <div>\n              <h3 style={{ marginBottom: 16, display: 'flex', alignItems: 'center', gap: 8 }}>\n                <ManualIcon />\n                Manual Post\n              </h3>\n              <p style={{ color: '#64748b', marginBottom: 16 }}>\n                Create and publish your own custom post content.\n              </p>\n              \n              <div style={{ marginBottom: 16 }}>\n                <label style={{ display: 'block', marginBottom: 8, fontWeight: 600 }}>\n                  Post Content:\n                </label>\n                <textarea\n                  name=\"message\"\n                  value={manualFormData.message}\n                  onChange={handleManualInputChange}\n                  placeholder=\"Write your post content here...\"\n                  style={{\n                    width: '100%',\n                    minHeight: 120,\n                    padding: 12,\n                    border: '1px solid #d1d5db',\n                    borderRadius: 8,\n                    fontSize: 14,\n                    resize: 'vertical'\n                  }}\n                />\n              </div>\n            </div>\n          )}\n\n          {/* Media Type Selection (for both tabs) */}\n          <div style={{ marginBottom: 16 }}>\n            <label style={{ display: 'block', marginBottom: 8, fontWeight: 600 }}>\n              Media Type:\n            </label>\n            <div style={{ display: 'flex', gap: 12 }}>\n              <button\n                onClick={() => handleMediaTypeChange('none', activeTab)}\n                style={{\n                  padding: '8px 16px',\n                  border: '1px solid #d1d5db',\n                  background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'none' ? '#3b82f6' : 'white',\n                  color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'none' ? 'white' : '#374151',\n                  borderRadius: 6,\n                  cursor: 'pointer',\n                  fontWeight: 500\n                }}\n              >\n                Text Only\n              </button>\n              <button\n                onClick={() => handleMediaTypeChange('photo', activeTab)}\n                style={{\n                  padding: '8px 16px',\n                  border: '1px solid #d1d5db',\n                  background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'photo' ? '#3b82f6' : 'white',\n                  color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'photo' ? 'white' : '#374151',\n                  borderRadius: 6,\n                  cursor: 'pointer',\n                  fontWeight: 500,\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 4\n                }}\n              >\n                <ImageIcon />\n                Photo\n              </button>\n              <button\n                onClick={() => handleMediaTypeChange('video', activeTab)}\n                style={{\n                  padding: '8px 16px',\n                  border: '1px solid #d1d5db',\n                  background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'video' ? '#3b82f6' : 'white',\n                  color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'video' ? 'white' : '#374151',\n                  borderRadius: 6,\n                  cursor: 'pointer',\n                  fontWeight: 500,\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 4\n                }}\n              >\n                <VideoIcon />\n                Video\n              </button>\n            </div>\n          </div>\n\n          {/* Media File Upload */}\n          {((activeTab === 'auto' && autoFormData.mediaType !== 'none') || \n            (activeTab === 'manual' && manualFormData.mediaType !== 'none')) && (\n            <div style={{ marginBottom: 16 }}>\n              <label style={{ display: 'block', marginBottom: 8, fontWeight: 600 }}>\n                Upload {activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType}:\n              </label>\n              <input\n                type=\"file\"\n                name=\"mediaFile\"\n                accept={activeTab === 'auto' \n                  ? (autoFormData.mediaType === 'photo' ? 'image/*' : 'video/*')\n                  : (manualFormData.mediaType === 'photo' ? 'image/*' : 'video/*')\n                }\n                onChange={activeTab === 'auto' ? handleAutoInputChange : handleManualInputChange}\n                style={{\n                  width: '100%',\n                  padding: 8,\n                  border: '1px solid #d1d5db',\n                  borderRadius: 6\n                }}\n              />\n            </div>\n          )}\n\n          {/* Post Button */}\n          <div style={{ marginTop: 24 }}>\n            <button\n              style={{\n                padding: '12px 32px',\n                background: '#1877f2',\n                color: 'white',\n                border: 'none',\n                borderRadius: 8,\n                fontWeight: 600,\n                cursor: 'pointer',\n                fontSize: 16,\n                display: 'flex',\n                alignItems: 'center',\n                gap: 8\n              }}\n              onClick={() => {\n                // Add post functionality here\n                setConnectionStatus('🚀 Post functionality coming soon!');\n              }}\n            >\n              <RocketIcon />\n              Publish Post\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\nexport default FacebookPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}